<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ content.title }} - あらすじ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body class="start-page-body">
    <audio id="bgm-player" loop autoplay>
        <source src="{{ url_for('static', filename='assets/sounds/start.mp3') }}" type="audio/mpeg">
    </audio>

    <div class="literary-background">
        {{ background_text }}
    </div>

    <div class="start-container">
        <h1 style="font-size: 2.5em; margin-bottom: 20px;">{{ content.title }}</h1>
        
        <div class="synopsis-box" style="
            text-align: left; 
            line-height: 2; 
            margin: 20px 0; 
            padding: 30px; 
            background: rgba(255, 255, 255, 0.6); 
            border-radius: 10px; 
            color: #2c3e50; 
            font-size: 1.1rem;
            max-height: 40vh;
            overflow-y: auto;
            border: 1px dashed #3498db;
        ">
            {{ content.text | safe }}
        </div>

        <div class="menu-item" style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
            <a href="{{ url_for('synopsis') }}" style="background-color: #34495e; min-width: 150px;">作品一覧へ</a>
            <a href="{{ url_for('index') }}" style="background-color: #95a5a6; min-width: 150px;">TOPに戻る</a>
        </div>
    </div>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('bgm-player');
            if (audio) { audio.play().catch(e => console.log("Playback blocked")); }
        });
    </script>
</body>
</html>